import{u as w,_ as C}from"./Cate-Dwa9uH6n.js";import{f as s,j as B,g as f,H as T,i as z,c as N,a as d,b as a,V as t,w as i,W as D,o as P,X as U,e as I}from"./index-DcDe6x07.js";import{V as L,a as M}from"./VDataTableVirtual-Bz33NCDU.js";import{V as _,h as R}from"./VBtn-DDRTgwIh.js";import{V as j}from"./VCheckboxBtn-Bl8kL-nd.js";import{b as A,e as E}from"./delay-DDNbx6Va.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Host-COnCiDvR.js";import"./dimensions-1b8KmgWA.js";import"./VTextField-BNVneRHE.js";import"./lazy-BmKk4Y0H.js";import"./scopeId-DNdRRRed.js";import"./ssrBoot-1cYoNe5C.js";const H={class:"pa-8 fill-height",style:{}},S={class:"d-flex flex-column pa-4 rounded-lg border-thin fill-height overflow-y-auto position-relative"},W={class:"d-flex ga-2"},X={class:"text-center pt-2"},le={__name:"index",setup(q){const v=s([{title:"",align:"start",key:"_id"},{title:"編號",align:"start",key:"cateId"},{title:"名稱",align:"start",key:"cateName"},{title:"",key:"actions",align:"center",sortable:!1}]),m=D();var n=s(!1);const c=s([]);B(()=>{g()});var l=s(1),V=s(20),u=s(1),p=f(()=>T().smAndDown.value),b=f(()=>p?3:7);z(l,e=>{console.log("newPage",e),g()});const g=()=>{n.value=!0,w.list(l.value,V.value).then(e=>{console.log(e),n.value=!1,c.value=e.data.data,u.value=e.data.pages}).catch(e=>{})},x=()=>{m.push({path:"/category/add"})},y=e=>{m.push({path:"/category/"+e})};return(e,r)=>{const k=C;return P(),N("div",H,[d("div",S,[a(k,{loading:t(n)},null,8,["loading"]),a(L,{loading:t(n),headers:t(v),items:t(c),"loading-text":"載入中...","hide-default-footer":"","fixed-header":"","mobile-breakpoint":"sm",mobile:t(p),class:"",style:{height:"calc(100vh - 164px)"}},{top:i(()=>[a(A,{flat:""},{default:i(()=>[a(E,null,{default:i(()=>[a(_,{color:"medium-emphasis",icon:"mdi-account-group-outline",size:"x-small",start:""}),r[1]||(r[1]=I(" 分類管理 "))]),_:1}),a(R,{class:"me-2","prepend-icon":"mdi-plus",rounded:"lg",text:"新增分類",border:"",onClick:x})]),_:1})]),"item.enabled":i(({item:o})=>[a(j,{modelValue:o.enabled,"onUpdate:modelValue":h=>o.enabled=h},null,8,["modelValue","onUpdate:modelValue"])]),"item.actions":i(({item:o})=>[d("div",W,[a(_,{color:"medium-emphasis",icon:"mdi-pencil",size:"small",onClick:h=>y(o._id)},null,8,["onClick"])])]),bottom:i(()=>[d("div",X,[a(M,{modelValue:t(l),"onUpdate:modelValue":r[0]||(r[0]=o=>U(l)?l.value=o:l=o),length:t(u),"total-visible":t(b),size:"small"},null,8,["modelValue","length","total-visible"])])]),_:1},8,["loading","headers","items","mobile"])])])}}};export{le as default};
